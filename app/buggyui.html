<link rel="import" href="lib/core-toolbar/core-toolbar.html">
<link rel="import" href="lib/paper-tabs/paper-tabs.html">
<link rel="import" href="lib/paper-icon-button/paper-icon-button.html">
<link rel="import" href="lib/core-icon/core-icon.html">
<link rel="import" href="lib/paper-icon-button/paper-icon-button.html">
<link rel="import" href="lib/polymer-ui-accordion/polymer-ui-accordion.html">
<link rel="import" href="components/implementation-list.html">
<link rel="import" href="components/implementation-view.html">
<link rel="import" href="components/source-service.html">
<link rel="import" href="components/app-state.html">
<!--
Web UI for Buggy, based on Polymer.

##### Example

    <buggyui></buggyui>

@element buggyui
@blurb Web UI for Buggy, based on Polymer
@status alpha
@homepage
-->
<polymer-element name="buggy-app">

  <template>

    <!-- build:css styles/buggyui.min.css -->
    <link rel="stylesheet" href="styles/buggyui.css" />
    <!-- endbuild -->

    <buggy-app-state state="{{state}}"></buggy-app-state>
    <buggy-source-service sources="{{sources}}"></buggy-source-service>

    <div base layout horizontal>
      <div nav>
        <core-toolbar>
          <paper-tabs id="tabs" self-end selected="{{selected}}">
            <paper-tab name="implementation">Implementation</paper-tab>
            <paper-tab name="sources">Sources</paper-tab>
            <paper-tab name="settings">Settings</paper-tab>
          </paper-tabs>
        </core-toolbar>
        <div hidden?="{{selected!='implementation'}}">
          <buggy-implementation-list sources="{{sources}}" appState="{{state}}"></buggy-implementation-list>
        </div>
        <div hidden?="{{selected!='sources'}}">
          <h1>Sources</h1>
        </div>
        <div hidden?="{{selected!='settings'}}">
          <h1>Settings</h1>
        </div>
      </div>
      <div content>
        <core-toolbar>
          <paper-icon-button icon="undo"></paper-icon-button>
          <paper-icon-button icon="save"></paper-icon-button>
          <span flex>Implementation of {{state.active.name}}</span>
          <paper-icon-button icon="fullscreen"></paper-icon-button>
        </core-toolbar>
        <div view>
          <buggy-implementation-view implementation="{{state.active}}"></buggy-implementation-view>
        </div>
      </div>
    </div>

  </template>

  <!-- build:js scripts/buggyui.min.js -->
  <script>
  Polymer({
    selected: "implementation"
  });
  </script>
  <!-- endbuild -->

</polymer-element>
